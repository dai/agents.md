# このリポジトリのAGENTSガイドライン

このリポジトリには、ルートディレクトリにNext.jsアプリケーションが含まれています。
エージェント（例：Codex CLI）と対話的にプロジェクトで作業する場合は、
開発体験、特にホットモジュールリプレイスメント（HMR）がスムーズに機能し続けるように、
以下のガイドラインに従ってください。

## 1. 開発サーバーを使用し、`npm run build`は使用しない

*   アプリケーションを繰り返し開発する間は、**常に `npm run dev`（または `pnpm dev`、`yarn dev`など）を使用してください。** これにより、ホットリロードが有効な開発モードでNext.jsが起動します。
*   **エージェントセッション内で `npm run build` を実行しないでください。** 本番ビルドコマンドを実行すると、`.next` フォルダが本番アセットに切り替わり、ホットリロードが無効になり、開発サーバーが不安定な状態になる可能性があります。本番ビルドが必要な場合は、対話型エージェントのワークフロー外で実行してください。

## 2. 依存関係を同期させる

依存関係を追加または更新した場合は、次のことを忘れないでください。

1.  適切なロックファイル（`package-lock.json`、`pnpm-lock.yaml`、`yarn.lock`）を更新します。
2.  Next.jsが変更を検出できるように、開発サーバーを再起動します。

## 3. コーディング規約

*   新しいコンポーネントやユーティリティには、TypeScript（`.tsx`/`.ts`）を優先して使用してください。
*   可能な場合は、コンポーネント固有のスタイルをコンポーネントと同じフォルダに配置してください。

## 4. 便利なコマンドのまとめ

| コマンド | 目的 |
|---|---|
| `npm run dev` | HMRを使用してNext.js開発サーバーを起動します。 |
| `npm run lint` | ESLintチェックを実行します。 |
| `npm run test` | テストスイートを実行します（存在する場合）。 |
| `npm run build` | **本番ビルド – _エージェントセッション中は実行しないでください_** |

---

これらのプラクティスに従うことで、エージェント支援の開発ワークフローが高速で信頼性の高いものになります。不明な点がある場合は、本番ビルドを実行するのではなく、開発サーバーを再起動してください。
